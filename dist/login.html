<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/login.css">
	</head>
	<body>
		

		 <header class="clearfix">
    	<div class="header_inner clearfix">
    		<div class="logo">
	            
	            <p>欢迎登陆</p>
	        </div>
	        <div class="link_ask">
	            
	            <a href="register.html">
	                注册
	            </a>
	        </div>
    	</div>
        
    </header>

    <!-- unknow -->
    
    <div class="content">
    	<div class="content_inner clearfix">
    		
	        <div class="login_box clearfix">
	            
	            <section class="clearfix" id="btn_list">
	                <div class="scan_login current" id="scanCode">
	                     
	                        扫码登录
	                    <span></span>
	                </div>
	                <div class="user_login " id="user_login">
	                    
	                        账户登录
	                    
	                </div>
	            </section>
	            <section  class="clearfix" id="box">
	                <div class="code">
	                    <li class="code_image">
	                        <img src="images/pic_582.png" alt="">
	                    </li>
	                    <dt>
	                        <a href="#">扫描二维码</a>                    
	                    </dt>
	                            
	                </div>
	                <div class="login_con">
	                    <p class="empty"></p>
	                    <dt class="con_name">
	                        <label for=""></label>
	                        <input type="text" id="username" placeholder="邮箱/用户名/已验证手机">
	                    </dt>
	                    <dt class="con_pwd">
	                        <label for=""></label>
	                        <input type="password" id="pwd" placeholder="密码">
	                    </dt>
	                    <li>
	                        <a href="#">忘记密码</a>
	                    </li>
	                    <button id="btn">登&nbsp;&nbsp;&nbsp;&nbsp;录</button>
	
	                </div>
	            </section>
	            <ul class="links_end">
	                                
	                    <li class="link1">
	                        <span></span><a href="#">QQ</a>
	                    </li>
	                    <li  class="link2">
	                        <span></span><a href="#">微信</a>
	                    </li>
	                    <li  class="link3">
	                        <span></span><a href="register.html">立即注册</a>
	                    </li>                
	            </ul>    
	        </div>
    	</div>
    </div>
   
	

		<script src="js/jquery-2.1.0.js"></script>
		<script src="js/ajax.js"></script>
		
		<script>
		//登录
        var oBtn = document.getElementById("btn");
        var oUser = document.getElementById("username");
        var oPwd = document.getElementById("pwd");
        var oHello = document.getElementById("hello");
        oBtn.onclick = function(){
            console.log(oUser.value,oPwd.value);
            var url = "php/login.php";
            ajaxPost(url,`username=${oUser.value}&password=${oPwd.value}`)
            .then(function(res){
                if(res){
//              	location.href = "jd.html"
//              	oHello.innerHTML = oUser.value;
                	console.log(oHello)
                }
            })
		}
		
		//选项卡
		 function Tab(btn_selector,item_selector){
            this.abtn = document.querySelectorAll(btn_selector);
            console.log(this.abtn);
            this.aItem = document.querySelectorAll(item_selector);
            console.log(this.aItem);
        }
        Tab.prototype.init = function(){
            
            this.handleEvent();
        }
        Tab.prototype.handleEvent = function(){
        
            for(var i = 0 ; i < this.abtn.length ; i ++){
                // 添加元素标记;
                this.abtn[i].index = i;
                console.log(this.abtn[i]);
                this.abtn[i].onclick = this.changIndex.bind(this);
            }
        }
        Tab.prototype.changIndex = function(event){
            var e = event || window.event;
           
            var target = e.target || e.srcElement;
           
            
            this.index = target.index;
            console.log(this.index);
            this.show();
        }
        Tab.prototype.show = function(){
            for(var i = 0 ; i < this.aItem.length ; i ++){
                this.aItem[i].style.display = "none";
                
            }
            //console.log(this.index);
            this.aItem[this.index].style.display = "block";
            this.abtn[this.index].className +=" current";
            //console.log(this.abtn[this.index])
        }
       
        var tab = new Tab("#btn_list div","#box div");
        tab.init();

		</script>
	</body>
</html>
